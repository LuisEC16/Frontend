<div class="transactions-container">
    <!-- ğŸ”¹ TÃ­tulo -->
    <h2>ğŸ” AuditorÃ­a de Transacciones</h2>
  
    <!-- ğŸ”¹ Filtros -->
    <div class="filters">
      <label for="date">ğŸ“… Fecha:</label>
      <input type="date" id="date" [(ngModel)]="filters.date">
  
      <label for="status">ğŸŸ¢ Estado:</label>
      <select id="status" [(ngModel)]="filters.status">
        <option value="">Todos</option>
        <option value="ready_to_be_checked">Por Verificar</option>
        <option value="completed">Completado</option>
        <option value="pending">Pendiente</option>
      </select>
  
      <label for="method">ğŸ’³ MÃ©todo de Pago:</label>
      <select id="method" [(ngModel)]="filters.method">
        <option value="">Todos</option>
        <option value="zelle">Zelle</option>
        <option value="paypal">PayPal</option>
        <option value="credit_card">Tarjeta</option>
        <option value="bank_transfer">Transferencia Bancaria</option>
      </select>
  
      <button (click)="applyFilters()" class="apply-btn">ğŸ” Aplicar Filtros</button>
    </div>
  
    <!-- ğŸ”¹ Tabla de transacciones -->
    <table class="transactions-table">
      <thead>
        <tr>
          <th>ID</th>
          <th>Usuario</th>
          <th>Curso</th>
          <th>Monto</th>
          <th>Estado</th>
          <th>MÃ©todo de Pago</th>
          <th>Fecha</th>
          <th>Validado Por</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngIf="filteredTransactions.length === 0">
          <td colspan="8">âš ï¸ No hay transacciones disponibles.</td>
        </tr>
        <tr *ngFor="let transaction of filteredTransactions">
          <td>{{ transaction.id }}</td>
          <td>{{ transaction.user?.firstName }} {{ transaction.user?.lastName }}</td>
          <td>{{ transaction.course?.name }}</td>
          <td>{{ transaction.amount | currency:'USD' }}</td>
          <td>{{ transaction.status }}</td>
          <td>{{ transaction.paymentMethod }}</td>
          <td>{{ transaction.createdAt | date:'short' }}</td>
          <td *ngIf="transaction.validatedBy; else notValidated">
            {{ transaction.validatedBy.firstName }} {{ transaction.validatedBy.lastName }}
          </td>
          <ng-template #notValidated>
            <td>âŒ No validado</td>
          </ng-template>
        </tr>
      </tbody>
      
    </table>
  
    <!-- ğŸ”¹ Exportar Transacciones -->
    <button (click)="exportTransactions()" class="export-btn">ğŸ“¥ Exportar CSV</button>
  </div>
  